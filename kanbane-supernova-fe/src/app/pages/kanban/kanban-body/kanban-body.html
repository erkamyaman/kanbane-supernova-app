<div class="flex flex-row align-items-center gap-2 w-fit h-auto mt-3 border-round-md">
  @for (col of columns; track col.id) {
  <div style="height: 80vh" class="bg-color-custom w-21rem border-round-md border-1 border-gray-500" pDroppable (onDrop)="drop(col.id)">
    <div class="flex flex-row mb-3 px-3 my-4 align-items-center justify-content-between no-select">
      <div class="flex flex-row gap-2 align-items-center justify-content-center">
        <i [ngClass]="'pi ' + col.icon " [ngStyle]="{ 'font-size': '1.5rem', 'color': col.iconColor }"></i>
        <div class="column-icon">{{col.title}}</div>
      </div>
      <i class="pi pi-pencil text-primary-400 cursor-pointer" style="font-size: 0.75rem"></i>
    </div>
    @if (tasks.length) {
    <ul class="list-none flex flex-col gap-2 p-0 m-0 flex flex-column overflow-y-auto" style="max-height: 74vh">
      @for (task of tasks; track $index) { @if(task.columnId === col.id){
      <li class="p-2 mx-2 mb-2 h-4rem border-round-md border-1 border-gray-500 text-center cursor-pointer flex align-items-center" style="position: relative" pDraggable (click)="showTaskDrawer(task)" (onDragStart)="dragStart(task, col.id)" (onDragEnd)="dragEnd()">
        <div class="flex flex-column align-items-start">
          <!-- <div>level</div> -->
          <span>{{ task.name }}</span>
          <!-- <div class="label-area flex">
            <div class="label">label 1</div>
            <div class="label">label 2</div>
          </div> -->
        </div>
        <i class="dot-icon pi pi-trash text-primary-400 cursor-pointer" style="font-size: 1rem; position: absolute; right: 1rem; top: 50%; transform: translateY(-50%)" (click)="deleteTask($event,task.id)"></i>
      </li>
      } }
    </ul>
    }
  </div>
  }
</div>

<p-confirmDialog></p-confirmDialog>
